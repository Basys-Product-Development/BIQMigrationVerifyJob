# BIQMigrationVerifyJob

## Overview
This project is designed to verify transactions during migration by comparing data between two systems. The scripts fetch data from multiple APIs, save them to CSV files, and perform a comparison to identify discrepancies.

## Prerequisites
Ensure you have Python and pip installed. You can verify by running:
```bash
python --version
pip --version
```
If pip isn’t installed, you can manually install it:

Download the get-pip.py script from bootstrap.pypa.io.
Open Command Prompt, navigate to the directory containing get-pip.py, then run:
```bash
python get-pip.py
```
Setting Up a Virtual Environment
To isolate project dependencies, it’s recommended to use a virtual environment:

```bash
python -m venv env
```
Activate the environment:

Windows:
```bash
env\Scripts\activate
```
macOS/Linux:
```bash
source env/bin/activate
```
Installing Dependencies
After activating the virtual environment, install the required packages:

```bash
pip install -r requirements.txt
```
Configuration
Update the necessary variables in config.py before running the project. This includes API URLs, tokens, and any other credentials or parameters specific to your setup.

Running the Project
To start the project, run:

```bash
python main.py
```
This will execute the sequence of API calls, save transaction data to CSV files, and perform the comparison to generate a discrepancy report.

## Additional Notes
The comparison report is saved to comparison_report.csv in the project directory.
Be sure to check your config.py setup before each run to ensure all credentials and endpoints are correct.
Compare Data Functionality
The compare_data.py script compares data from two CSV files generated by the API calls:

source_transactions.csv: Contains sourceTransactionId values.
transactions_BIQ.csv: Contains Proc_ID values.
The function identifies any sourceTransactionId values missing in transactions_BIQ.csv and vice versa, then outputs a report detailing these discrepancies.

Steps for Comparison:
Read both source_transactions.csv and transactions_BIQ.csv to extract sourceTransactionId and Proc_ID values, respectively.
Identify Missing Values:
Records in source_transactions.csv missing in transactions_BIQ.csv.
Records in transactions_BIQ.csv missing in source_transactions.csv.
Generate Comparison Report: Outputs results to comparison_report.csv, listing each missing ID and indicating which file it was missing from.
Code Structure
main.py: Main script that orchestrates the API calls, saves data, and triggers comparison.
api/:
biqAPI.py: Handles data retrieval from API 1.
iqproAPI.py: Handles data retrieval from API 2.
iqproApiGetTransaction.py: Handles data retrieval from API 3, which uses transactionId from API 2 to get sourceTransactionId.
data/:
record_data_BIQ.py: Saves data from API 1 to transactions_BIQ.csv.
record_data_IQPRO.py: Saves data from API 2 to transactions_iqpro.csv.
record_data_IQPRO_GetTransactions.py: Saves data from API 3 to source_transactions.csv.
read_data_IQPRO.py: Reads transactionId values from transactions_iqpro.csv for use in API 3.
compare_data.py: Compares sourceTransactionId and Proc_ID values between source_transactions.csv and transactions_BIQ.csv.
